"use strict";var ip=require("ip"),browserConfig=require("./browsers"),browserStack="true"===process.env.BROWSER;module.exports=function(e){var r={basePath:"../",frameworks:["qunit"],plugins:["karma-qunit"],files:["js/tests/vendor/jquery.min.js","js/tooltip.js","js/!(tooltip).js","js/tests/unit/*.js"],reporters:["dots"],port:9876,colors:!0,logLevel:e.LOG_ERROR||e.LOG_WARN,autoWatch:!1,singleRun:!0,concurrency:1/0,client:{qunit:{showUI:!0}}};browserStack?(r.hostname=ip.address(),r.browserStack={username:process.env.BROWSER_STACK_USERNAME,accessKey:process.env.BROWSER_STACK_ACCESS_KEY,build:"bootstrap-v3-"+(new Date).toISOString(),project:"Bootstrap v3",retryLimit:1},r.plugins.push("karma-browserstack-launcher"),r.customLaunchers=browserConfig.list,r.browsers=browserConfig.keys,r.reporters.push("BrowserStack")):(r.frameworks.push("detectBrowsers"),r.plugins.push("karma-chrome-launcher","karma-firefox-launcher","karma-detect-browsers"),r.detectBrowsers={usePhantomJS:!1,postDetection:function(e){if(void 0!==process.env.TRAVIS_JOB_ID||e.includes("Chrome"))return["ChromeHeadless"];if(e.includes("Firefox"))return["FirefoxHeadless"];throw new Error("Please install Firefox or Chrome")}},r.customLaunchers={FirefoxHeadless:{base:"Firefox",flags:["-headless"]}}),e.set(r)};